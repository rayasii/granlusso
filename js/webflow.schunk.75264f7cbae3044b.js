"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["14"],{79858:function(e,t,n){var o=n(43949),r=n(65134);let i={ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,ESCAPE:27,SPACE:32,ENTER:13,HOME:36,END:35},a=/^#[a-zA-Z0-9\-_]+$/;o.define("dropdown",e.exports=function(e,t){var n,l,d=t.debounce,s={},u=o.env(),c=!1,f=o.env.touch,g=".w-dropdown",p="w--open",v=r.triggers,h="focusout"+g,w="keydown"+g,m="mouseenter"+g,R="mousemove"+g,O="mouseleave"+g,x=(f?"click":"mouseup")+g,b="w-close"+g,E="setting"+g,A=e(document);function k(){n=u&&o.env("design"),(l=A.find(g)).each(y)}function y(t,r){var l=e(r),s=e.data(r,g);!s&&(s=e.data(r,g,{open:!1,el:l,config:{},selectedIdx:-1})),s.toggle=s.el.children(".w-dropdown-toggle"),s.list=s.el.children(".w-dropdown-list"),s.links=s.list.find("a:not(.w-dropdown .w-dropdown a)"),s.complete=function(e){return function(){e.list.removeClass(p),e.toggle.removeClass(p),e.manageZ&&e.el.css("z-index","")}}(s),s.mouseLeave=function(e){return function(){e.hovering=!1,!e.links.is(":focus")&&W(e)}}(s),s.mouseUpOutside=function(t){return t.mouseUpOutside&&A.off(x,t.mouseUpOutside),d(function(n){if(!t.open)return;var r=e(n.target);if(!r.closest(".w-dropdown-toggle").length){var i=-1===e.inArray(t.el[0],r.parents(g)),a=o.env("editor");if(i){if(a){var l=1===r.parents().length&&1===r.parents("svg").length,d=r.parents(".w-editor-bem-EditorHoverControls").length;if(l||d)return}W(t)}}})}(s),s.mouseMoveOutside=function(t){return d(function(n){if(!!t.open){var o=e(n.target);if(-1===e.inArray(t.el[0],o.parents(g))){var r=o.parents(".w-editor-bem-EditorHoverControls").length,i=o.parents(".w-editor-bem-RTToolbar").length,a=e(".w-editor-bem-EditorOverlay"),l=a.find(".w-editor-edit-outline").length||a.find(".w-editor-bem-RTToolbar").length;if(r||i||l)return;t.hovering=!1,W(t)}}})}(s),C(s);var c=s.toggle.attr("id"),f=s.list.attr("id");!c&&(c="w-dropdown-toggle-"+t),!f&&(f="w-dropdown-list-"+t),s.toggle.attr("id",c),s.toggle.attr("aria-controls",f),s.toggle.attr("aria-haspopup","menu"),s.toggle.attr("aria-expanded","false"),s.toggle.find(".w-icon-dropdown-toggle").attr("aria-hidden","true"),"BUTTON"!==s.toggle.prop("tagName")&&(s.toggle.attr("role","button"),!s.toggle.attr("tabindex")&&s.toggle.attr("tabindex","0")),s.list.attr("id",f),s.list.attr("aria-labelledby",c),s.links.each(function(e,t){!t.hasAttribute("tabindex")&&t.setAttribute("tabindex","0"),a.test(t.hash)&&t.addEventListener("click",W.bind(null,s))}),s.el.off(g),s.toggle.off(g),s.nav&&s.nav.off(g);var v=I(s,!0);n&&s.el.on(E,function(e){return function(t,n){n=n||{},C(e),!0===n.open&&T(e),!1===n.open&&W(e,{immediate:!0})}}(s)),!n&&(u&&(s.hovering=!1,W(s)),s.config.hover&&s.toggle.on(m,function(e){return function(){e.hovering=!0,T(e)}}(s)),s.el.on(b,v),s.el.on(w,function(e){return function(t){if(!n&&!!e.open)switch(e.selectedIdx=e.links.index(document.activeElement),t.keyCode){case i.HOME:if(!e.open)return;return e.selectedIdx=0,P(e),t.preventDefault();case i.END:if(!e.open)return;return e.selectedIdx=e.links.length-1,P(e),t.preventDefault();case i.ESCAPE:return W(e),e.toggle.focus(),t.stopPropagation();case i.ARROW_RIGHT:case i.ARROW_DOWN:return e.selectedIdx=Math.min(e.links.length-1,e.selectedIdx+1),P(e),t.preventDefault();case i.ARROW_LEFT:case i.ARROW_UP:return e.selectedIdx=Math.max(-1,e.selectedIdx-1),P(e),t.preventDefault()}}}(s)),s.el.on(h,function(e){return d(function(t){var{relatedTarget:n,target:o}=t,r=e.el[0];return!(r.contains(n)||r.contains(o))&&W(e),t.stopPropagation()})}(s)),s.toggle.on(x,v),s.toggle.on(w,function(e){var t=I(e,!0);return function(o){if(!n){if(!e.open)switch(o.keyCode){case i.ARROW_UP:case i.ARROW_DOWN:return o.stopPropagation()}switch(o.keyCode){case i.SPACE:case i.ENTER:return t(),o.stopPropagation(),o.preventDefault()}}}}(s)),s.nav=s.el.closest(".w-nav"),s.nav.on(b,v))}function C(e){var t=Number(e.el.css("z-index"));e.manageZ=900===t||901===t,e.config={hover:"true"===e.el.attr("data-hover")&&!f,delay:e.el.attr("data-delay")}}s.ready=k,s.design=function(){c&&function(){A.find(g).each(function(t,n){e(n).triggerHandler(b)})}(),c=!1,k()},s.preview=function(){c=!0,k()};function I(e,t){return d(function(n){if(e.open||n&&"w-close"===n.type)return W(e,{forceClose:t});T(e)})}function T(t){if(!t.open){(function(t){var n=t.el[0];l.each(function(t,o){var r=e(o);if(!r.is(n)&&!r.has(n).length)r.triggerHandler(b)})})(t),t.open=!0,t.list.addClass(p),t.toggle.addClass(p),t.toggle.attr("aria-expanded","true"),v.intro(0,t.el[0]),o.redraw.up(),t.manageZ&&t.el.css("z-index",901);var r=o.env("editor");!n&&A.on(x,t.mouseUpOutside),t.hovering&&!r&&t.el.on(O,t.mouseLeave),t.hovering&&r&&A.on(R,t.mouseMoveOutside),window.clearTimeout(t.delayId)}}function W(e,{immediate:t,forceClose:n}={}){if(!!e.open&&(!e.config.hover||!e.hovering||!!n)){e.toggle.attr("aria-expanded","false"),e.open=!1;var o=e.config;if(v.outro(0,e.el[0]),A.off(x,e.mouseUpOutside),A.off(R,e.mouseMoveOutside),e.el.off(O,e.mouseLeave),window.clearTimeout(e.delayId),!o.delay||t)return e.complete();e.delayId=window.setTimeout(e.complete,o.delay)}}function P(e){e.links[e.selectedIdx]&&e.links[e.selectedIdx].focus()}return s})}}]);